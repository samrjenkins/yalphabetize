#!/usr/bin/env ruby
# frozen_string_literal: true

$LOAD_PATH.unshift("#{File.dirname(__FILE__)}/../lib")

require 'yalphabetize/reader'
require 'yalphabetize/alphabetizer'
require 'yalphabetize/writer'
require 'yalphabetize/offence_detector'
require 'yalphabetize/yaml_finder'
require 'yalphabetize/logger'
require 'yalphabetizer'

reader = Yalphabetize::Reader
finder = Yalphabetize::YamlFinder.new
alphabetizer = Yalphabetize::Alphabetizer
writer = Yalphabetize::Writer
offence_detector = Yalphabetize::OffenceDetector
logger = Yalphabetize::Logger.new($stdout)

exit Yalphabetizer.call(
  ARGV,
  reader: reader,
  finder: finder,
  alphabetizer: alphabetizer,
  writer: writer,
  offence_detector: offence_detector,
  logger: logger
)
